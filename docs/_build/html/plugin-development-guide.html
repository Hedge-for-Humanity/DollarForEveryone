
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Plugin Development Guide &#8212; Burner Wallet  documentation</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="API Reference" href="plugin-api.html" />
    <link rel="prev" title="Wallet Architecture" href="wallet-architecture.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="plugin-api.html" title="API Reference"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="wallet-architecture.html" title="Wallet Architecture"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Burner Wallet  documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="plugin-development-guide">
<h1>Plugin Development Guide<a class="headerlink" href="#plugin-development-guide" title="Permalink to this headline">¶</a></h1>
<p>The Burner Wallet 2 is a robust, extendable implementation of Austin
Griffith’s famous Burner Wallet. A simple wallet can be built and
customized in only a single Javascript file. The wallet can be extended
using Plugins, which require only basic knowledge of React and the Web3
library.</p>
<p>For assistance with plugin development, feel free to contact me, David
Mihal (&#64;dmihal on Telegram and Twitter)</p>
<div class="section" id="what-can-a-burner-wallet-plugin-do">
<h2>What can a Burner Wallet Plugin do?<a class="headerlink" href="#what-can-a-burner-wallet-plugin-do" title="Permalink to this headline">¶</a></h2>
<p>A Burner Wallet plugin can do anything that any other DApp can do! At a basic level, Burner Wallet
plugins are provided with a Web3 instance and the ability to insert React components into the wallet
interface.</p>
</div>
<div class="section" id="sample-plugins">
<h2>Sample Plugins<a class="headerlink" href="#sample-plugins" title="Permalink to this headline">¶</a></h2>
<p>There are many plugins that can be viewed for reference:</p>
<ul class="simple">
<li><p>The <a class="reference external" href="https://github.com/dmihal/burner-wallet-2/tree/master/packages">Burner Wallet 2</a> repo contains a number of general-purpose
plugins, such as the <a class="reference external" href="https://github.com/dmihal/burner-wallet-2/tree/master/packages/exchange">exchange</a>, <a class="reference external" href="https://github.com/dmihal/burner-wallet-2/tree/master/packages/ens-plugin">ENS plugin</a>, and <a class="reference external" href="https://github.com/dmihal/burner-wallet-2/tree/master/packages/recent-accounts-plugin">recent accounts
plugin</a>.</p></li>
<li><p>The <a class="reference external" href="https://github.com/dmihal/burner-factory-plugins">Burner Factory Plugins</a> repo contains some more advanced
plugins such as the <a class="reference external" href="https://github.com/dmihal/burner-factory-plugins/tree/master/plugins/collectable-plugin">collectables plugin</a> and <a class="reference external" href="https://github.com/dmihal/burner-factory-plugins/tree/master/plugins/push-notification-plugin">push notification
plugin</a>.</p></li>
</ul>
</div>
<div class="section" id="getting-started">
<h2>Getting Started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h2>
<div class="section" id="option-1-clone-the-sample-project">
<h3>Option 1: Clone the sample project<a class="headerlink" href="#option-1-clone-the-sample-project" title="Permalink to this headline">¶</a></h3>
<p>The easiest way to get started is to start from the sample plugin
repository:</p>
<p>Zip file:
<a class="reference external" href="https://github.com/burner-wallet/sample-plugin/archive/master.zip">https://github.com/burner-wallet/sample-plugin/archive/master.zip</a></p>
<p>Fork the repo: <a class="reference external" href="https://github.com/burner-wallet/sample-plugin">https://github.com/burner-wallet/sample-plugin</a></p>
<ol class="arabic simple">
<li><p>Download the Zip file or fork the repo.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cd</span></code> into the project directory, and run <code class="docutils literal notranslate"><span class="pre">yarn</span> <span class="pre">install</span></code></p></li>
<li><p>In order to use your app on Mainnet or testnets, you’ll need an Infura API key. See the “envionment variables” section</p></li>
<li><p>Start your wallet! Run yarn start-local to run a wallet that connects to a local Ganache
instance, or run yarn start-basic to run a wallet that connects to the Mainnet and xDai chains.</p></li>
<li><p>Navigate your browser to <a class="reference external" href="http://localhost:3000">http://localhost:3000</a>!</p></li>
</ol>
</div>
<div class="section" id="option-2-start-from-scratch">
<h3>Option 2: Start from scratch<a class="headerlink" href="#option-2-start-from-scratch" title="Permalink to this headline">¶</a></h3>
<p>Creating a wallet with the Burner Wallet 2 does not require cloning any repository, as all
components are NPM packages. Simply create a new react project, install the packages, and create a
plugin entry point.</p>
<ol class="arabic simple">
<li><p>Run <code class="docutils literal notranslate"><span class="pre">create-react-app</span> <span class="pre">my-wallet</span></code> and <code class="docutils literal notranslate"><span class="pre">cd</span></code> to <code class="docutils literal notranslate"><span class="pre">my-wallet</span></code></p></li>
<li><p>Run <code class="docutils literal notranslate"><span class="pre">yarn</span> <span class="pre">add</span> <span class="pre">&#64;burner-wallet/core</span> <span class="pre">&#64;burner-wallet/assets</span> <span class="pre">&#64;burner-wallet/modern-ui</span> <span class="pre">&#64;burner-wallet/types</span></code></p></li>
<li><p>Paste the following code in index.tsx to create a simple wallet:</p></li>
</ol>
<ol class="arabic simple">
<li><p>Add an Infura key (see Option 1)</p></li>
<li><p>Start your wallet! Run yarn start-local to run a wallet that connects
to a local Ganache instance, or run yarn start-basic to run a wallet
that connects to the Mainnet</p></li>
<li><p>Navigate your browser to <a class="reference external" href="http://localhost:3000">http://localhost:3000</a>!</p></li>
</ol>
</div>
<div class="section" id="environment-variables">
<h3>Environment Variables<a class="headerlink" href="#environment-variables" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="typescript-support">
<h3>Typescript Support<a class="headerlink" href="#typescript-support" title="Permalink to this headline">¶</a></h3>
<p>The Burner Wallet 2 is natively built with Typescript, but you can write
your plugins in TypeScript or plain Javascript.</p>
<p>If you would like to write a plugin using Typescript, the only
dependency you need is &#64;burner-wallet/types, which includes all the
typings you’ll need.</p>
<p>If you want to write in plain javascript, then you don’t need any
dependencies!</p>
</div>
</div>
<div class="section" id="create-plugin-entry-point">
<h2>Create plugin entry point<a class="headerlink" href="#create-plugin-entry-point" title="Permalink to this headline">¶</a></h2>
<p>If you have started from the sample project, you may skip this section.</p>
<p>Plugins are created by defining a class that implements the following Plugin interface.</p>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="kr">export</span> <span class="kr">interface</span> <span class="nx">Plugin</span> <span class="p">{</span>
  <span class="nx">initializePlugin</span><span class="p">(</span><span class="nx">context</span>: <span class="kt">BurnerPluginContext</span><span class="p">)</span><span class="o">:</span> <span class="k">void</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Create a new file with the following content:</p>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="kr">import</span> <span class="p">{</span> <span class="nx">Plugin</span><span class="p">,</span> <span class="nx">BurnerPluginContext</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@burner-wallet/types&#39;</span>

<span class="kr">export</span> <span class="k">default</span> <span class="kr">class</span> <span class="nx">MyPlugin</span> <span class="kr">implements</span> <span class="nx">Plugin</span> <span class="p">{</span>
  <span class="nx">initializePlugin</span><span class="p">(</span><span class="nx">pluginContext</span>: <span class="kt">BurnerPluginContext</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">pluginContext</span><span class="p">.</span><span class="nx">addElement</span><span class="p">(</span><span class="s1">&#39;home-top&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="s2">&quot;Hello, World&quot;</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Import your class in your wallet entry point, and add it to the “plugins” array.</p>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="kr">import</span> <span class="nx">MyPlugin</span> <span class="nx">from</span> <span class="s2">&quot;../my-plugin/MyPlugin&quot;</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">BurnerWallet</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span>
  <span class="o">&lt;</span><span class="nx">BurnerUI</span>
    <span class="nx">core</span><span class="o">=</span><span class="p">{</span><span class="nx">core</span><span class="p">}</span>
    <span class="nx">plugins</span><span class="o">=</span><span class="p">{[</span><span class="k">new</span> <span class="nx">MyPlugin</span><span class="p">()]}</span>
  <span class="o">/&gt;</span>
</pre></div>
</div>
<p>Now, start your wallet development server by running <code class="docutils literal notranslate"><span class="pre">yarn</span> <span class="pre">start</span></code></p>
<p>Navigate to <code class="docutils literal notranslate"><span class="pre">http://localhost:3000</span></code>. You should see a normal wallet with “Hello, World” written
at the top!</p>
</div>
<div class="section" id="adding-a-page">
<h2>Adding a page<a class="headerlink" href="#adding-a-page" title="Permalink to this headline">¶</a></h2>
<p>Note: this step is completed by default in the sample project:</p>
<p>Create a new file with the following content:</p>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span>import React from &#39;react&#39;;
import { PluginPageContext, Asset } from &#39;@burner-wallet/types&#39;;

const MyPage: React.FC&lt;PluginPageContext&gt; = ({ BurnerComponents, assets, defaultAccount }) =&gt; {
  const { Page } = BurnerComponents;
  return (
    &lt;Page title=&quot;My Page&quot;&gt;
      &lt;div&gt;Account: {defaultAccount}&lt;/div&gt;
      &lt;div&gt;Assets: {assets.map((asset: Asset) =&gt; asset.name).join(&#39;, &#39;)}&lt;/div&gt;
    &lt;/Page&gt;
  );
};

export default MyPage;
</pre></div>
</div>
<p>Now import and add that page to the entry-point class:</p>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="kr">import</span> <span class="p">{</span> <span class="nx">Plugin</span><span class="p">,</span> <span class="nx">BurnerPluginContext</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@burner-wallet/types&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="nx">MyPage</span> <span class="nx">from</span> <span class="s1">&#39;./MyPage&#39;</span><span class="p">;</span>

<span class="kr">export</span> <span class="k">default</span> <span class="kr">class</span> <span class="nx">MyPlugin</span> <span class="kr">implements</span> <span class="nx">Plugin</span> <span class="p">{</span>
  <span class="nx">initializePlugin</span><span class="p">(</span><span class="nx">pluginContext</span>: <span class="kt">BurnerPluginContext</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">pluginContext</span><span class="p">.</span><span class="nx">addPage</span><span class="p">(</span><span class="s1">&#39;/mypage&#39;</span><span class="p">,</span> <span class="nx">MyPage</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>We also want to add a button to the home page so that users can access the page:</p>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="kr">import</span> <span class="p">{</span> <span class="nx">Plugin</span><span class="p">,</span> <span class="nx">BurnerPluginContext</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@burner-wallet/types&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="nx">MyPage</span> <span class="nx">from</span> <span class="s1">&#39;./MyPage&#39;</span><span class="p">;</span>

<span class="kr">export</span> <span class="k">default</span> <span class="kr">class</span> <span class="nx">MyPlugin</span> <span class="kr">implements</span> <span class="nx">Plugin</span> <span class="p">{</span>
  <span class="nx">initializePlugin</span><span class="p">(</span><span class="nx">pluginContext</span>: <span class="kt">BurnerPluginContext</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">pluginContext</span><span class="p">.</span><span class="nx">addPage</span><span class="p">(</span><span class="s1">&#39;/mypage&#39;</span><span class="p">,</span> <span class="nx">MyPage</span><span class="p">);</span>
    <span class="nx">pluginContext</span><span class="p">.</span><span class="nx">addButton</span><span class="p">(</span><span class="s1">&#39;apps&#39;</span><span class="p">,</span> <span class="s1">&#39;My Page&#39;</span><span class="p">,</span> <span class="s1">&#39;/mypage&#39;</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="interacting-with-a-contract">
<h2>Interacting with a contract<a class="headerlink" href="#interacting-with-a-contract" title="Permalink to this headline">¶</a></h2>
<p>This section will allow our plugin to interact with a smart contract using Web3.</p>
<p>First, we need to save the <code class="docutils literal notranslate"><span class="pre">pluginContext</span></code> to an instance variable so that it can be accessed
outside of the initializePlugin function.</p>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="kr">import</span> <span class="p">{</span> <span class="nx">Plugin</span><span class="p">,</span> <span class="nx">BurnerPluginContext</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@burner-wallet/types&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="nx">MyPage</span> <span class="nx">from</span> <span class="s1">&#39;./MyPage&#39;</span><span class="p">;</span>

<span class="kr">export</span> <span class="k">default</span> <span class="kr">class</span> <span class="nx">MyPlugin</span> <span class="kr">implements</span> <span class="nx">Plugin</span> <span class="p">{</span>
  <span class="kr">private</span> <span class="nx">pluginContext?</span>: <span class="kt">BurnerPluginContext</span><span class="p">;</span>

  <span class="nx">initializePlugin</span><span class="p">(</span><span class="nx">pluginContext</span>: <span class="kt">BurnerPluginContext</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">pluginContext</span> <span class="o">=</span> <span class="nx">pluginContext</span><span class="p">;</span>

    <span class="nx">pluginContext</span><span class="p">.</span><span class="nx">addPage</span><span class="p">(</span><span class="s1">&#39;/mypage&#39;</span><span class="p">,</span> <span class="nx">MyPage</span><span class="p">);</span>
    <span class="p">...</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Now, let’s import our contract ABI from a JSON file and add a getContract function:</p>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="kr">import</span> <span class="p">{</span> <span class="nx">Plugin</span><span class="p">,</span> <span class="nx">BurnerPluginContext</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@burner-wallet/types&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="nx">MyPage</span> <span class="nx">from</span> <span class="s1">&#39;./MyPage&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="nx">gameAbi</span> <span class="nx">from</span> <span class="s1">&#39;./game-abi.json&#39;</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">GAME_CONTRACT_ADDRESS</span> <span class="o">=</span> <span class="s1">&#39;0x0123456789012345678901234567890123456789&#39;</span><span class="p">;</span>

<span class="kr">export</span> <span class="k">default</span> <span class="kr">class</span> <span class="nx">MyPlugin</span> <span class="kr">implements</span> <span class="nx">Plugin</span> <span class="p">{</span>
  <span class="kr">private</span> <span class="nx">pluginContext?</span>: <span class="kt">BurnerPluginContext</span><span class="p">;</span>

  <span class="nx">initializePlugin</span><span class="p">(</span><span class="nx">pluginContext</span>: <span class="kt">BurnerPluginContext</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">pluginContext</span> <span class="o">=</span> <span class="nx">pluginContext</span><span class="p">;</span>

    <span class="nx">pluginContext</span><span class="p">.</span><span class="nx">addPage</span><span class="p">(</span><span class="s1">&#39;/mypage&#39;</span><span class="p">,</span> <span class="nx">MyPage</span><span class="p">);</span>
    <span class="p">...</span>
  <span class="p">}</span>

  <span class="nx">getContract() {</span>
    <span class="kr">const</span> <span class="nx">web3</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">pluginContext</span><span class="o">!</span><span class="p">.</span><span class="nx">getWeb3</span><span class="p">(</span><span class="s1">&#39;100&#39;</span> <span class="cm">/* xDai */</span><span class="p">);</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nx">web3</span><span class="p">.</span><span class="nx">eth</span><span class="p">.</span><span class="nx">Contract</span><span class="p">(</span><span class="nx">gameAbi</span> <span class="kr">as</span> <span class="nx">any</span><span class="p">,</span> <span class="nx">GAME_CONTRACT_ADDRESS</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Note the exclamation point after <code class="docutils literal notranslate"><span class="pre">this.pluginContext</span></code>. Technically, it’s possible that
pluginContext is <code class="docutils literal notranslate"><span class="pre">undefined</span></code>, however we can assume that no code will run until after
initializePlugin has been called.</p>
<p>In that example, we have hardcoded the contract address and network ID. If you want the plugin to be
more flexible and reusable, you can also make those constructor arguments like this:</p>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="kr">import</span> <span class="p">{</span> <span class="nx">Plugin</span><span class="p">,</span> <span class="nx">BurnerPluginContext</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@burner-wallet/types&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="nx">MyPage</span> <span class="nx">from</span> <span class="s1">&#39;./MyPage&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="nx">gameAbi</span> <span class="nx">from</span> <span class="s1">&#39;./game-abi.json&#39;</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">GAME_CONTRACT_ADDRESS</span> <span class="o">=</span> <span class="s1">&#39;0x0123456789012345678901234567890123456789&#39;</span><span class="p">;</span>

<span class="kr">export</span> <span class="k">default</span> <span class="kr">class</span> <span class="nx">MyPlugin</span> <span class="kr">implements</span> <span class="nx">Plugin</span> <span class="p">{</span>
  <span class="kr">private</span> <span class="nx">pluginContext?</span>: <span class="kt">BurnerPluginContext</span><span class="p">;</span>
  <span class="kr">private</span> <span class="nx">contractAddress</span>: <span class="kt">string</span><span class="p">;</span>
  <span class="kr">private</span> <span class="nx">chainId</span>: <span class="kt">string</span><span class="p">;</span>

  <span class="kr">constructor</span><span class="p">(</span><span class="nx">contractAddress</span>: <span class="kt">string</span><span class="p">,</span> <span class="nx">chainId</span>: <span class="kt">string</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">contractAddress</span> <span class="o">=</span> <span class="nx">contractAddress</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">chainId</span> <span class="o">=</span> <span class="nx">chainId</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="nx">initializePlugin</span><span class="p">(</span><span class="nx">pluginContext</span>: <span class="kt">BurnerPluginContext</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">pluginContext</span> <span class="o">=</span> <span class="nx">pluginContext</span><span class="p">;</span>

    <span class="nx">pluginContext</span><span class="p">.</span><span class="nx">addPage</span><span class="p">(</span><span class="s1">&#39;/mypage&#39;</span><span class="p">,</span> <span class="nx">MyPage</span><span class="p">);</span>
    <span class="p">...</span>
  <span class="p">}</span>

  <span class="nx">getContract() {</span>
    <span class="kr">const</span> <span class="nx">web3</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">pluginContext</span><span class="o">!</span><span class="p">.</span><span class="nx">getWeb3</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">chainId</span><span class="p">);</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nx">web3</span><span class="p">.</span><span class="nx">eth</span><span class="p">.</span><span class="nx">Contract</span><span class="p">(</span><span class="nx">gameAbi</span> <span class="kr">as</span> <span class="nx">any</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">contractAddress</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Now, let’s add a some contract calls.</p>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="kr">import</span> <span class="p">{</span> <span class="nx">Plugin</span><span class="p">,</span> <span class="nx">BurnerPluginContext</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@burner-wallet/types&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="nx">MyPage</span> <span class="nx">from</span> <span class="s1">&#39;./MyPage&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="nx">gameAbi</span> <span class="nx">from</span> <span class="s1">&#39;./game-abi.json&#39;</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">GAME_CONTRACT_ADDRESS</span> <span class="o">=</span> <span class="s1">&#39;0x0123456789012345678901234567890123456789&#39;</span><span class="p">;</span>

<span class="kr">export</span> <span class="k">default</span> <span class="kr">class</span> <span class="nx">MyPlugin</span> <span class="kr">implements</span> <span class="nx">Plugin</span> <span class="p">{</span>
  <span class="kr">private</span> <span class="nx">pluginContext?</span>: <span class="kt">BurnerPluginContext</span><span class="p">;</span>
  <span class="kr">private</span> <span class="nx">contractAddress</span>: <span class="kt">string</span><span class="p">;</span>
  <span class="kr">private</span> <span class="nx">chainId</span>: <span class="kt">string</span><span class="p">;</span>

  <span class="kr">constructor</span><span class="p">(</span><span class="nx">contractAddress</span>: <span class="kt">string</span><span class="p">,</span> <span class="nx">chainId</span>: <span class="kt">string</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">contractAddress</span> <span class="o">=</span> <span class="nx">contractAddress</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">chainId</span> <span class="o">=</span> <span class="nx">chainId</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="nx">initializePlugin</span><span class="p">(</span><span class="nx">pluginContext</span>: <span class="kt">BurnerPluginContext</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">pluginContext</span> <span class="o">=</span> <span class="nx">pluginContext</span><span class="p">;</span>

    <span class="nx">pluginContext</span><span class="p">.</span><span class="nx">addPage</span><span class="p">(</span><span class="s1">&#39;/mypage&#39;</span><span class="p">,</span> <span class="nx">MyPage</span><span class="p">);</span>
    <span class="p">...</span>
  <span class="p">}</span>

  <span class="nx">getContract() {</span>
    <span class="kr">const</span> <span class="nx">web3</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">pluginContext</span><span class="o">!</span><span class="p">.</span><span class="nx">getWeb3</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">chainId</span><span class="p">);</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nx">web3</span><span class="p">.</span><span class="nx">eth</span><span class="p">.</span><span class="nx">Contract</span><span class="p">(</span><span class="nx">gameAbi</span> <span class="kr">as</span> <span class="nx">any</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">contractAddress</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="nx">async</span> <span class="nx">getScore</span><span class="p">(</span><span class="nx">address</span>: <span class="kt">string</span><span class="p">)</span> <span class="p">{</span>
    <span class="kr">const</span> <span class="nx">contract</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getContract</span><span class="p">();</span>
    <span class="kr">const</span> <span class="nx">score</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">contract</span><span class="p">.</span><span class="nx">methods</span><span class="p">.</span><span class="nx">getScore</span><span class="p">(</span><span class="nx">address</span><span class="p">).</span><span class="nx">call</span><span class="p">();</span>
    <span class="k">return</span> <span class="nx">score</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="nx">async</span> <span class="nx">buyTokens</span><span class="p">(</span><span class="nx">address</span>: <span class="kt">string</span><span class="p">,</span> <span class="nx">numTokens</span>: <span class="kt">string</span><span class="p">)</span> <span class="p">{</span>
    <span class="kr">const</span> <span class="nx">contract</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getContract</span><span class="p">();</span>
    <span class="nx">await</span> <span class="nx">contract</span><span class="p">.</span><span class="nx">methods</span><span class="p">.</span><span class="nx">buyTokens</span><span class="p">(</span><span class="nx">numTokens</span><span class="p">).</span><span class="nx">send</span><span class="p">({</span> <span class="nx">from</span>: <span class="kt">address</span> <span class="p">});</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Our plugin can now fetch data by calling <code class="docutils literal notranslate"><span class="pre">getScore</span></code> on this contract, as well as send a
transaction to the contract’s <code class="docutils literal notranslate"><span class="pre">buyTokens</span></code> function.</p>
<p>Now, we can integrate these functions into our page:</p>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span>import React, { useState, useEffect } from &#39;react&#39;;
import { PluginPageContext } from &#39;@burner-wallet/types&#39;;
import MyPlugin from &#39;./MyPlugin&#39;;

const MyPage: React.FC&lt;PluginPageContext&gt; = ({ BurnerComponents, defaultAccount }) =&gt; {
  const [score, setScore] = useState(&#39;&#39;);
  const [numTokens, setNumTokens] = useState(&#39;0&#39;);

  const _plugin = plugin as MyPlugin;

  useEffect(() =&gt; {
    _plugin.getScore(defaultAccount).then(score =&gt; setScore(score));
  }, []);

  const buyTokens = async () =&gt; {
    await _plugin.buyTokens(defaultAccount, numTokens);
    setNumTokens(&#39;0&#39;);

    const score = await _plugin.getScore(defaultAccount);
    setScore(score);
  };

  const { Page, Button } = BurnerComponents;
  return (
    &lt;Page title=&quot;My Page&quot;&gt;
      &lt;div&gt;Score: {score}&lt;/div&gt;
      &lt;div&gt;
        &lt;input type=&quot;number&quot; value={numTokens} onChange={e =&gt; setNumTokens(e.target.value)} /&gt;
        &lt;Button onClick={buyTokens}&gt;Buy Tokens&lt;/Button&gt;
      &lt;/div&gt;
    &lt;/Page&gt;
  );
};
</pre></div>
</div>
<p>Users can now interact with the deployed contract!</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Plugin Development Guide</a><ul>
<li><a class="reference internal" href="#what-can-a-burner-wallet-plugin-do">What can a Burner Wallet Plugin do?</a></li>
<li><a class="reference internal" href="#sample-plugins">Sample Plugins</a></li>
<li><a class="reference internal" href="#getting-started">Getting Started</a><ul>
<li><a class="reference internal" href="#option-1-clone-the-sample-project">Option 1: Clone the sample project</a></li>
<li><a class="reference internal" href="#option-2-start-from-scratch">Option 2: Start from scratch</a></li>
<li><a class="reference internal" href="#environment-variables">Environment Variables</a></li>
<li><a class="reference internal" href="#typescript-support">Typescript Support</a></li>
</ul>
</li>
<li><a class="reference internal" href="#create-plugin-entry-point">Create plugin entry point</a></li>
<li><a class="reference internal" href="#adding-a-page">Adding a page</a></li>
<li><a class="reference internal" href="#interacting-with-a-contract">Interacting with a contract</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="wallet-architecture.html"
                        title="previous chapter">Wallet Architecture</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="plugin-api.html"
                        title="next chapter">API Reference</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/plugin-development-guide.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="plugin-api.html" title="API Reference"
             >next</a> |</li>
        <li class="right" >
          <a href="wallet-architecture.html" title="Wallet Architecture"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Burner Wallet  documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2019, David Mihal.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.4.0.
    </div>
  </body>
</html>